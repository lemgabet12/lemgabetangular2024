"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5040],{5040:(z,M,i)=>{i.r(M),i.d(M,{DrawerPageModule:()=>R});var h=i(4755),C=i(5030),a=i(626),d=i(2443),p=i(5861),t=i(3020),s=i(4464),x=i(3144);const O=["userAvatar"],w=["menuIcon"],T=["topMenuPopover"],b=["drawerItemList"];function I(e,l){if(1&e&&t._UZ(0,"img",33),2&e){const n=t.oxw();t.Q6J("src",n.getsiglehotel,t.LSH)}}function Z(e,l){if(1&e&&(t.TgZ(0,"i",40),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit,o=t.oxw();t.Udp("color",o.activeTab===n.name?"rgb(33, 150, 243)":"var(--color-nearlyBlack)"),t.xp6(1),t.hij(" ",n.icon," ")}}const A=function(e,l){return{imgTintBlue:e,imgTintBlack:l}};function D(e,l){if(1&e&&t._UZ(0,"ion-img",41),2&e){const n=t.oxw().$implicit,o=t.oxw();t.Q6J("ngClass",t.WLB(2,A,o.activeTab===n.name,o.activeTab!==n.name))("alt",n.name)}}const y=function(e){return[e]};function k(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"ion-menu-toggle",34)(1,"ion-item",35),t.NdJ("click",function(){const g=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.onDrawerNavigate(g))}),t._UZ(2,"ion-item",36),t.YNc(3,Z,2,3,"i",37),t.YNc(4,D,1,5,"ion-img",38),t.TgZ(5,"ion-label",39),t._uU(6),t.qZA()()()}if(2&e){const n=l.$implicit,o=t.oxw();t.xp6(1),t.Q6J("routerLink",n.url?t.VKq(10,y,n.url):void 0),t.xp6(1),t.Udp("--width",o.rowWidth+"px")("--background",o.activeTab===n.name?"rgba(33, 150, 243, 0.2)":"transparent"),t.xp6(1),t.Q6J("ngIf",!n.isAsset),t.xp6(1),t.Q6J("ngIf",n.isAsset),t.xp6(1),t.Udp("color",o.activeTab===n.name?"rgb(33, 150, 243)":"var(--color-nearlyBlack)"),t.xp6(1),t.hij("",n.name," ")}}const S=[{path:"menu",component:(()=>{class e{constructor(n,o,r,g,c,f){this.popoverController=n,this.http=o,this.platform=r,this.activatedRoute=g,this.router=c,this.elementRef=f,this.getsiglehotel="",this.appPages=[],this.drawerWidth=280,this.rowWidth=this.drawerWidth-64,this.activeTab="",this.isSplitPane=!1,this.userName="",this.nom="",this.serverUrl="http://default-url",this.port="default-port",this.widthCalculations(),this.platform.resize.subscribe(()=>{this.widthCalculations(),this.initDrawerAnimation()})}ngOnInit(){var n=this;return(0,p.Z)(function*(){yield n.loadConfig(),n.initializeUser()})()}loadConfig(){var n=this;return(0,p.Z)(function*(){n.serverUrl=localStorage.getItem("urlpub")||"http://default-url",n.port=localStorage.getItem("hotelport")||"default-port"})()}ngAfterViewInit(){this.initDrawerAnimation()}initializeUser(){this.userId=localStorage.getItem("userId"),this.userId?(this.fetchData(),this.fetchNomPrenom()):this.router.navigate(["/login"],{replaceUrl:!0})}fetchData(){this.http.get(`${this.serverUrl}:${this.port}/api/module/user/${this.userId}`).subscribe(o=>{this.appPages=o.map(r=>({name:r.name,icon:r.icon,url:r.url})),this.appPages.length>0&&(this.activeTab=this.appPages[0].name),this.initDrawerAnimation()},o=>{console.error("Failed to fetch data:",o)})}fetchNomPrenom(){this.http.get(`${this.serverUrl}:${this.port}/hotel/GetDataproce`).subscribe(o=>{this.nom=o.nomhotel,this.getsiglehotel=o.getsiglehotel,console.log("Name is: "+this.nom),console.log("Hotel Image (Base64): "+this.getsiglehotel)},o=>{console.error("Failed to fetch hotel name:",o)})}logout(){localStorage.removeItem("userId"),this.router.navigate(["/login"],{replaceUrl:!0})}widthCalculations(){const n=this.platform.width();this.drawerWidth=.75*n,n>992?(this.rowWidth=28*n/100-64,this.isSplitPane=!0):(this.rowWidth=this.drawerWidth-64,this.isSplitPane=!1)}initDrawerAnimation(){var n,o,r;const g=(0,s.ih)().addElement(null===(n=this.userAvatarRef)||void 0===n?void 0:n.nativeElement).fromTo("transform","rotate(36deg) scale(0.8)","rotate(0deg) scale(1)"),c=[],f=null===(o=this.drawerItemListRef)||void 0===o?void 0:o.toArray();for(const m of f){const P=m.nativeElement,v=(0,s.ih)().addElement(P.querySelector(".drawerInnerItem")).fromTo("transform",`translateX(-${this.rowWidth}px)`,"translateX(0px)");c.push(v)}const u=null===(r=this.menuIconRef)||void 0===r?void 0:r.nativeElement,B=(0,s.ih)().addElement(u.querySelector(".menu__icon")).fromTo("transform","translate(-50%, -50%)","rotate(180.01deg) translate(50%, 50%)"),W=(0,s.ih)().addElement(u.querySelector(".menu__line--1")).fromTo("transform","translate3d(0px, 0px, 0) rotate(0deg) scaleX(1.0)","translate3d(6px, 2px, 0) rotate(45deg) scaleX(0.65)"),N=(0,s.ih)().addElement(u.querySelector(".menu__line--3")).fromTo("transform","translate3d(0px, 0px, 0) rotate(0deg) scaleX(1.0)","translate3d(6px, -2px, 0) rotate(-45deg) scaleX(0.65)"),_=(0,s.ih)().addElement(u).fromTo("transform","translateX(0px)",`translateX(${this.drawerWidth}px)`).addAnimation(B).addAnimation(W).addAnimation(N);s.Bk.registerAnimation("my-reveal",m=>{const P=m.width*(m.isEndSide?-1:1)+"px",v=(0,s.ih)().addElement(m.contentEl).fromTo("transform","translateX(0px)",`translateX(${P})`);return(0,s.ih)().duration(400).addAnimation(v).addAnimation(g).addAnimation(c).addAnimation(_)})}onDrawerNavigate(n){n.url&&(this.activeTab=n.name)}onMenuClick(){s.Bk.toggle("main-menu")}openTopMenu(n){this.topMenuPopover.event=n,this.topMenuPopover.present()}goToProfile(){this.topMenuPopover.dismiss(),this.router.navigate(["/modif-pass"])}openModifierPasswordPage(){this.router.navigate(["/settings/change-password"]),this.dismissPopover()}openModifierEmailPage(){this.router.navigate(["/settings/change-email"]),this.dismissPopover()}dismissPopover(){var n=this;return(0,p.Z)(function*(){n.topMenuPopover?yield n.topMenuPopover.dismiss():console.error("Popover not available or not initialized.")})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.Dh),t.Y36(x.eN),t.Y36(a.t4),t.Y36(d.gz),t.Y36(d.F0),t.Y36(t.SBq))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-drawer"]],viewQuery:function(n,o){if(1&n&&(t.Gf(O,5,t.SBq),t.Gf(w,5,t.SBq),t.Gf(T,5),t.Gf(b,5,t.SBq)),2&n){let r;t.iGM(r=t.CRH())&&(o.userAvatarRef=r.first),t.iGM(r=t.CRH())&&(o.menuIconRef=r.first),t.iGM(r=t.CRH())&&(o.topMenuPopover=r.first),t.iGM(r=t.CRH())&&(o.drawerItemListRef=r)}},decls:46,vars:8,consts:[["contentId","main-content"],["side","start","menuId","main-menu","contentId","main-content","type","my-reveal",1,"menu-type-reveal",3,"maxEdgeStart"],[1,"headerToolbar"],[1,"userImage"],["alt","Hotel Image",3,"src",4,"ngIf"],[2,"font-size","15px"],[1,"divider"],[2,"overflow-x","auto"],[1,"ion-no-padding"],["auto-hide","false",4,"ngFor","ngForOf"],["topMenuPopover",""],["button","",3,"click"],["name","lock-closed-outline","slot","start"],["button","",2,"overflow-x","auto",3,"click"],["name","mail-outline","slot","start"],[1,"ion-no-border"],["slot","start"],[3,"click"],["slot","icon-only","name","person-outline"],["slot","end"],["slot","icon-only","name","settings-outline"],[1,"ion-no-border",3,"click"],["button","true","detail","false","lines","none",3,"click"],[1,"sign-out-text"],[1,"material-icons","colorRed"],["id","main-content"],[1,"menu","menu--back5","ion-activatable",2,"position","absolute",3,"hidden","click"],["menuIcon",""],[1,"menu__icon"],[1,"menu__line","menu__line--1"],[1,"menu__line","menu__line--2"],[1,"menu__line","menu__line--3"],["type","unbounded"],["alt","Hotel Image",3,"src"],["auto-hide","false"],["lines","none","detail","false","routerDirection","root",1,"drawerItem",3,"routerLink","click"],["lines","none",1,"drawerInnerItem"],["class","material-icons icon-margin",3,"color",4,"ngIf"],["style","width: 24px; height: 24px","class","icon-margin","src","assets/home/supportIcon.png",3,"ngClass","alt",4,"ngIf"],[2,"font-weight","500","font-size","16px","margin-left","8px"],[1,"material-icons","icon-margin"],["src","assets/home/supportIcon.png",1,"icon-margin",2,"width","24px","height","24px",3,"ngClass","alt"]],template:function(n,o){1&n&&(t.TgZ(0,"div")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"div",2)(4,"ion-avatar",3),t.YNc(5,I,1,1,"img",4),t.qZA(),t.TgZ(6,"div")(7,"h1",5),t._uU(8),t.qZA()()(),t._UZ(9,"div",6),t.TgZ(10,"ion-content",7)(11,"ion-list",8),t.YNc(12,k,7,12,"ion-menu-toggle",9),t.TgZ(13,"ion-popover",null,10)(15,"ion-list",7)(16,"ion-item",11),t.NdJ("click",function(){return o.openModifierPasswordPage()}),t._UZ(17,"ion-icon",12),t._uU(18," Modifier Mot De Passe "),t.qZA(),t.TgZ(19,"ion-item",13),t.NdJ("click",function(){return o.openModifierEmailPage()}),t._UZ(20,"ion-icon",14),t._uU(21," Modifier Email "),t.qZA()()()()(),t._UZ(22,"div",6),t.TgZ(23,"ion-footer",15)(24,"ion-toolbar")(25,"ion-buttons",16)(26,"ion-button",17),t.NdJ("click",function(){return o.goToProfile()}),t._UZ(27,"ion-icon",18),t.qZA()(),t.TgZ(28,"ion-buttons",19)(29,"ion-button"),t._UZ(30,"ion-icon",20),t.qZA()()()(),t.TgZ(31,"ion-footer",21),t.NdJ("click",function(){return o.logout()}),t.TgZ(32,"ion-toolbar",8)(33,"ion-item",22),t.NdJ("click",function(){return o.logout()}),t.TgZ(34,"ion-label",23),t._uU(35,"Se D\xe9connecter"),t.qZA(),t.TgZ(36,"i",24),t._uU(37,"power_settings_new"),t.qZA()()()()(),t._UZ(38,"ion-router-outlet",25),t.qZA(),t.TgZ(39,"div",26,27),t.NdJ("click",function(){return o.onMenuClick()}),t.TgZ(41,"div",28),t._UZ(42,"div",29)(43,"div",30)(44,"div",31),t.qZA(),t._UZ(45,"ion-ripple-effect",32),t.qZA()()),2&n&&(t.xp6(2),t.Jzz("--width: ",o.drawerWidth,"px"),t.Q6J("maxEdgeStart",o.platform.width()),t.xp6(3),t.Q6J("ngIf",o.getsiglehotel),t.xp6(3),t.Oqu(o.nom),t.xp6(4),t.Q6J("ngForOf",o.appPages),t.xp6(27),t.Q6J("hidden",o.isSplitPane))},dependencies:[h.mk,h.sg,h.O5,a.BJ,a.YG,a.Sm,a.W2,a.fr,a.gu,a.Xz,a.Ie,a.Q$,a.q_,a.z0,a.zc,a.H$,a.jI,a.sr,a.d8,a.jP,a.YI,d.rH],styles:["ion-menu[_ngcontent-%COMP%]{--ion-background-color: var(--color-notWhite, white)}ion-menu[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: var(--color-notWhite, white)}ion-list[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{--ion-item-background: transparent}.headerToolbar[_ngcontent-%COMP%]{padding:25px 10px 10px;background-color:var(--color-notWhite, rgb(201, 135, 50))}.headerToolbar[_ngcontent-%COMP%]   ion-avatar.userImage[_ngcontent-%COMP%]{width:100px;height:100px}.headerToolbar[_ngcontent-%COMP%]   div.nameContainer[_ngcontent-%COMP%]{margin-top:8px;margin-left:4px}.headerToolbar[_ngcontent-%COMP%]   div.nameContainer[_ngcontent-%COMP%]   .userName[_ngcontent-%COMP%]{font-size:18px;font-family:WorkSans-SemiBold;color:var(--color-username)}.img[_ngcontent-%COMP%]{display:block;width:100%;height:100%}ion-item.drawerItem[_ngcontent-%COMP%]{--padding-top: 8px;--padding-bottom: 8px;--padding-start: 0px;--padding-end: 0px;overflow:hidden;backface-visibility:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;transform:translateZ(0);-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0)}ion-item.drawerItem[_ngcontent-%COMP%]   ion-item.drawerInnerItem[_ngcontent-%COMP%]{--background: var(--background);width:var(--width);border-top-right-radius:24px;border-bottom-right-radius:24px;position:absolute}ion-item.drawerItem[_ngcontent-%COMP%]   .icon-margin[_ngcontent-%COMP%]{margin-left:14px}ion-item.drawerItem[_ngcontent-%COMP%]   .imgTintBlue[_ngcontent-%COMP%]{filter:invert(46%) sepia(90%) saturate(2764%) hue-rotate(189deg) brightness(104%) contrast(91%)}ion-item.drawerItem[_ngcontent-%COMP%]   .imgTintBlack[_ngcontent-%COMP%]{filter:brightness(0%)}@media (prefers-color-scheme: dark){ion-item.drawerItem[_ngcontent-%COMP%]   .imgTintBlack[_ngcontent-%COMP%]{filter:brightness(0%) invert(1)}}.sign-out-text[_ngcontent-%COMP%]{font-size:16px;font-family:WorkSans-SemiBold;color:var(--color-darkText)}.material-icons.colorRed[_ngcontent-%COMP%]{color:red}.menu[_ngcontent-%COMP%]{position:relative;height:40px;width:40px;cursor:pointer;margin-left:8px;overflow:hidden;margin-top:calc(var(--status-bar-height) + 4px)}.menu__icon[_ngcontent-%COMP%]{position:absolute;width:20px;height:14px;top:50%;left:50%;transform:translate(-50%,-50%)}.menu__line[_ngcontent-%COMP%]{position:absolute;left:0;background-color:var(--color-darkgrey);height:2px;width:100%;border-radius:2px;pointer-events:none}.menu__line--1[_ngcontent-%COMP%]{top:0}.menu__line--2[_ngcontent-%COMP%]{top:0;bottom:0;margin:auto}.menu__line--3[_ngcontent-%COMP%]{bottom:0}.ios   [_nghost-%COMP%]   .menu[_ngcontent-%COMP%]{margin-top:calc(var(--ion-safe-area-top) + 4px)}@media only screen and (max-width: 1024px){.headerToolbar[_ngcontent-%COMP%]{padding:45px 30px 30px;background-color:var(--color-notWhite, rgb(201, 135, 50))}.headerToolbar[_ngcontent-%COMP%]   ion-avatar.userImage[_ngcontent-%COMP%]{width:70px;height:70px}.headerToolbar[_ngcontent-%COMP%]   div.nameContainer[_ngcontent-%COMP%]{margin-top:12px;margin-left:8px}.headerToolbar[_ngcontent-%COMP%]   div.nameContainer[_ngcontent-%COMP%]   .userName[_ngcontent-%COMP%]{font-size:18px;font-family:WorkSans-SemiBold;color:var(--color-username)}}.night-mode[_ngcontent-%COMP%]   ion-menu[_ngcontent-%COMP%]{background-color:#333;color:#fff}.night-mode[_ngcontent-%COMP%]   .headerToolbar[_ngcontent-%COMP%]{background-color:#222;color:#fff}.night-mode[_ngcontent-%COMP%]   .nameContainer[_ngcontent-%COMP%]   ion-label.userName[_ngcontent-%COMP%]{color:#fff}.night-mode[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{background-color:#444}.night-mode[_ngcontent-%COMP%]   ion-list.ion-no-padding[_ngcontent-%COMP%]{color:#fff}.night-mode[_ngcontent-%COMP%]   ion-list.ion-no-padding[_ngcontent-%COMP%]   ion-item.drawerItem[_ngcontent-%COMP%]{background-color:#222;color:#fff}.night-mode[_ngcontent-%COMP%]   ion-list.ion-no-padding[_ngcontent-%COMP%]   ion-item.drawerInnerItem[_ngcontent-%COMP%]{background-color:#2196f333}.night-mode[_ngcontent-%COMP%]   ion-footer.ion-no-border[_ngcontent-%COMP%]{background-color:#333}.night-mode[_ngcontent-%COMP%]   ion-footer.ion-no-border[_ngcontent-%COMP%]   ion-item.sign-out-text[_ngcontent-%COMP%]{color:#fff}.night-mode[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{background-color:#444}.night-mode[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .menu__line[_ngcontent-%COMP%]{background-color:#fff}"]}),e})(),children:[{path:"home",loadChildren:()=>Promise.all([i.e(6858),i.e(8592),i.e(8362)]).then(i.bind(i,8362)).then(e=>e.HomePageModule)},{path:"help",loadChildren:()=>Promise.all([i.e(6858),i.e(8592),i.e(4297)]).then(i.bind(i,4297)).then(e=>e.HelpPageModule)},{path:"feedback",loadChildren:()=>Promise.all([i.e(6858),i.e(8592),i.e(2066)]).then(i.bind(i,2066)).then(e=>e.FeedbackPageModule)},{path:"listes",loadChildren:()=>i.e(4991).then(i.bind(i,4991)).then(e=>e.ListesPageModule)},{path:"invitefriend",loadChildren:()=>Promise.all([i.e(6858),i.e(8592),i.e(2304)]).then(i.bind(i,2304)).then(e=>e.InviteFriendPageModule)},{path:"recaptilatif",loadChildren:()=>Promise.all([i.e(6858),i.e(8592),i.e(9223)]).then(i.bind(i,9223)).then(e=>e.RecaptilatifPageModule)},{path:"Movements",loadChildren:()=>i.e(8592).then(i.bind(i,2320)).then(e=>e.ArrivalsDeparturesPageRoutingModule)},{path:"",redirectTo:"home",pathMatch:"full"}]},{path:"",redirectTo:"menu/home",pathMatch:"full"}];let U=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(S),d.Bz]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.ez,C.u5,a.Pc,U]}),e})()}}]);