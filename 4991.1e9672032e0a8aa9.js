"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4991],{4991:(E,x,d)=>{d.r(x),d.d(x,{ListesPageModule:()=>K});var _=d(4755),Z=d(5030),g=d(626),b=d(2443),m=d(5861),t=d(3020),T=d(3144),O=d(849);function v(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",16),t._uU(4),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.number)}}function A(a,o){if(1&a&&(t.TgZ(0,"ion-card",12)(1,"ion-card-header")(2,"ion-card-title",13),t._uU(3,"Donn\xe9es G\xe9n\xe9rales"),t.qZA()(),t.TgZ(4,"ion-col")(5,"div",14)(6,"table",15)(7,"thead")(8,"tr")(9,"th"),t._uU(10,"Libell\xe9"),t.qZA(),t.TgZ(11,"th",16),t._uU(12,"Nombre"),t.qZA()()(),t.TgZ(13,"tbody"),t.YNc(14,v,5,2,"tr",17),t.qZA()()()()()),2&a){const e=t.oxw();t.xp6(14),t.Q6J("ngForOf",e.data.rows)}}function M(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Oqu(e.chambre),t.xp6(2),t.Oqu(e.nom),t.xp6(2),t.Oqu(e.arrivee),t.xp6(2),t.Oqu(e.depart)}}const h=function(a){return{"active-page":a}};function C(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"ion-button",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.goToPageVIP(r))}),t._uU(1),t.qZA()}if(2&a){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(2,h,i.currentPageVip===e)),t.xp6(1),t.hij(" ",e," ")}}function q(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"ion-card",18)(1,"ion-card-header")(2,"ion-card-title",19),t._uU(3),t.qZA()(),t.TgZ(4,"ion-col")(5,"div",14)(6,"table",20)(7,"thead")(8,"tr")(9,"th"),t._uU(10,"Chambre"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Nom"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Arriv\xe9e"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"D\xe9part"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,M,9,4,"tr",17),t.qZA()(),t.TgZ(19,"div",21)(20,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPageVIP(1))}),t._uU(21,"\xab"),t.qZA(),t.TgZ(22,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.prevPageVIP())}),t._UZ(23,"ion-icon",23),t.qZA(),t.TgZ(24,"div",24),t.YNc(25,C,2,4,"ion-button",25),t.qZA(),t.TgZ(26,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.nextPageVIP())}),t._UZ(27,"ion-icon",26),t.qZA(),t.TgZ(28,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPageVIP(n.totalPagesVIP))}),t._uU(29,"\xbb"),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.detailTitles[0]),t.xp6(15),t.Q6J("ngForOf",e.paginatedVipData),t.xp6(2),t.Q6J("disabled",1===e.currentPageVip),t.xp6(2),t.Q6J("disabled",1===e.currentPageVip),t.xp6(3),t.Q6J("ngForOf",e.pageNumbersVIP),t.xp6(1),t.Q6J("disabled",e.currentPageVip===e.totalPagesVIP),t.xp6(2),t.Q6J("disabled",e.currentPageVip===e.totalPagesVIP)}}function U(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Oqu(e.chambre),t.xp6(2),t.Oqu(e.nom),t.xp6(2),t.Oqu(e.arrivee),t.xp6(2),t.Oqu(e.depart)}}function k(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"ion-button",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.goToPageOffre(r))}),t._uU(1),t.qZA()}if(2&a){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(2,h,i.currentPageOffre===e)),t.xp6(1),t.hij(" ",e," ")}}function w(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"ion-card",18)(1,"ion-card-header")(2,"ion-card-title",19),t._uU(3),t.qZA()(),t.TgZ(4,"ion-col")(5,"div",14)(6,"table",20)(7,"thead")(8,"tr")(9,"th"),t._uU(10,"Chambre"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Nom"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Arriv\xe9e"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"D\xe9part"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,U,9,4,"tr",17),t.qZA()(),t.TgZ(19,"div",21)(20,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPageOffre(1))}),t._uU(21,"\xab"),t.qZA(),t.TgZ(22,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.prevPageOffre())}),t._UZ(23,"ion-icon",23),t.qZA(),t.TgZ(24,"div",24),t.YNc(25,k,2,4,"ion-button",25),t.qZA(),t.TgZ(26,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.nextPageOffre())}),t._UZ(27,"ion-icon",26),t.qZA(),t.TgZ(28,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPageOffre(n.totalPagesOffre))}),t._uU(29,"\xbb"),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.detailTitles[1]),t.xp6(15),t.Q6J("ngForOf",e.paginatedOffersData),t.xp6(2),t.Q6J("disabled",1===e.currentPageOffre),t.xp6(2),t.Q6J("disabled",1===e.currentPageOffre),t.xp6(3),t.Q6J("ngForOf",e.pageNumbersOffre),t.xp6(1),t.Q6J("disabled",e.currentPageOffre===e.totalPagesOffre),t.xp6(2),t.Q6J("disabled",e.currentPageOffre===e.totalPagesOffre)}}function L(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Oqu(e.chambre),t.xp6(2),t.Oqu(e.nom),t.xp6(2),t.Oqu(e.arrivee),t.xp6(2),t.Oqu(e.depart)}}function J(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"ion-button",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.goToPageAnnif(r))}),t._uU(1),t.qZA()}if(2&a){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(2,h,i.currentPageAnnif===e)),t.xp6(1),t.hij(" ",e," ")}}function D(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"ion-card",28)(1,"ion-card-header")(2,"ion-card-title",19),t._uU(3),t.qZA()(),t.TgZ(4,"ion-col")(5,"div",14)(6,"table",20)(7,"thead")(8,"tr")(9,"th"),t._uU(10,"Chambre"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Nom"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Arriv\xe9e"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"D\xe9part"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,L,9,4,"tr",17),t.qZA()(),t.TgZ(19,"div",21)(20,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPageAnnif(1))}),t._uU(21,"\xab"),t.qZA(),t.TgZ(22,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.prevPageAnnif())}),t._UZ(23,"ion-icon",23),t.qZA(),t.TgZ(24,"div",24),t.YNc(25,J,2,4,"ion-button",25),t.qZA(),t.TgZ(26,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.nextPageAnnif())}),t._UZ(27,"ion-icon",26),t.qZA(),t.TgZ(28,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPageAnnif(n.totalPagesAnnif))}),t._uU(29,"\xbb"),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.detailTitles[2]),t.xp6(15),t.Q6J("ngForOf",e.paginatedAnniversariesData),t.xp6(2),t.Q6J("disabled",1===e.currentPageAnnif),t.xp6(2),t.Q6J("disabled",1===e.currentPageAnnif),t.xp6(3),t.Q6J("ngForOf",e.pageNumbersAnnif),t.xp6(1),t.Q6J("disabled",e.currentPageAnnif===e.totalPagesAnnif),t.xp6(2),t.Q6J("disabled",e.currentPageAnnif===e.totalPagesAnnif)}}function I(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Oqu(e.chambre),t.xp6(2),t.Oqu(e.nom),t.xp6(2),t.Oqu(e.arrivee),t.xp6(2),t.Oqu(e.depart),t.xp6(2),t.Oqu(e.nbfois)}}function N(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"ion-button",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.goToPageRevenent(r))}),t._uU(1),t.qZA()}if(2&a){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(2,h,i.currentPageRevenent===e)),t.xp6(1),t.hij(" ",e," ")}}function V(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"ion-card",29)(1,"ion-card-header")(2,"ion-card-title",19),t._uU(3),t.qZA()(),t.TgZ(4,"ion-col")(5,"div",14)(6,"table",20)(7,"thead")(8,"tr")(9,"th"),t._uU(10,"Chambre"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Nom"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Arriv\xe9e"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"D\xe9part"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Nb Fois"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,I,11,5,"tr",17),t.qZA()(),t.TgZ(21,"div",21)(22,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPageRevenent(1))}),t._uU(23,"\xab"),t.qZA(),t.TgZ(24,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.prevPageRevenent())}),t._UZ(25,"ion-icon",23),t.qZA(),t.TgZ(26,"div",24),t.YNc(27,N,2,4,"ion-button",25),t.qZA(),t.TgZ(28,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.nextPageRevenent())}),t._UZ(29,"ion-icon",26),t.qZA(),t.TgZ(30,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPageRevenent(n.totalPagesRevenet))}),t._uU(31,"\xbb"),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.detailTitles[3]),t.xp6(17),t.Q6J("ngForOf",e.paginatedRevenantData),t.xp6(2),t.Q6J("disabled",1===e.currentPageRevenent),t.xp6(2),t.Q6J("disabled",1===e.currentPageRevenent),t.xp6(3),t.Q6J("ngForOf",e.pageNumbersRevenent),t.xp6(1),t.Q6J("disabled",e.currentPageRevenent===e.totalPagesRevenet),t.xp6(2),t.Q6J("disabled",e.currentPageRevenent===e.totalPagesRevenet)}}const R=function(a,o){return{"background-color":a,color:o}};function y(a,o){if(1&a&&(t.TgZ(0,"tr")(1,"td")(2,"span",32),t._uU(3),t.qZA()(),t.TgZ(4,"td",31),t._uU(5),t.qZA(),t.TgZ(6,"td",31),t._uU(7),t.qZA(),t.TgZ(8,"td",31),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"td",31),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td",31),t._uU(15),t.qZA()()),2&a){const e=o.$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("ngStyle",t.WLB(13,R,i.getStatusColor(e.etat),i.getTextColor(e.etat))),t.xp6(1),t.hij(" ",e.etat," "),t.xp6(2),t.Oqu(e.chb),t.xp6(2),t.Oqu(e.nom),t.xp6(2),t.Oqu(t.xi3(10,7,e.date_arr,"dd/MM")),t.xp6(3),t.Oqu(t.xi3(13,10,e.date_dep,"dd/MM")),t.xp6(3),t.Oqu(e.timeDiff)}}function $(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"ion-button",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.goToPageMouvement(r))}),t._uU(1),t.qZA()}if(2&a){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(2,h,i.currentPage===e)),t.xp6(1),t.hij(" ",e," ")}}function Q(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"ion-card",12)(1,"ion-card-header")(2,"ion-card-title",13),t._uU(3,"Mouvement de la Journ\xe9e"),t.qZA()(),t.TgZ(4,"div",14)(5,"table",30)(6,"thead")(7,"tr")(8,"th",31),t._uU(9,"\xc9tat"),t.qZA(),t.TgZ(10,"th",31),t._uU(11,"Chb"),t.qZA(),t.TgZ(12,"th",31),t._uU(13,"Nom"),t.qZA(),t.TgZ(14,"th",31),t._uU(15,"Arr"),t.qZA(),t.TgZ(16,"th",31),t._uU(17,"Dep"),t.qZA(),t.TgZ(18,"th",31),t._uU(19,"Temps"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,y,16,16,"tr",17),t.qZA()(),t.TgZ(22,"div",21)(23,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPageMouvement(1))}),t._uU(24,"\xab"),t.qZA(),t.TgZ(25,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.prevPageMouvement())}),t._UZ(26,"ion-icon",23),t.qZA(),t.TgZ(27,"div",24),t.YNc(28,$,2,4,"ion-button",25),t.qZA(),t.TgZ(29,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.nextPageMouvement())}),t._UZ(30,"ion-icon",26),t.qZA(),t.TgZ(31,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.goToPageMouvement(n.totalPages))}),t._uU(32,"\xbb"),t.qZA()()()()}if(2&a){const e=t.oxw();t.xp6(21),t.Q6J("ngForOf",e.paginatedData),t.xp6(2),t.Q6J("disabled",1===e.currentPage),t.xp6(2),t.Q6J("disabled",1===e.currentPage),t.xp6(3),t.Q6J("ngForOf",e.pageNumbers),t.xp6(1),t.Q6J("disabled",e.currentPage===e.totalPages),t.xp6(2),t.Q6J("disabled",e.currentPage===e.totalPages)}}const F=[{path:"",component:(()=>{class a{RefreshProcedure(){throw new Error("Method not implemented.")}constructor(e,i,n){this.http=e,this.ngZone=i,this.storage=n,this.data1=[],this.itemsPerPage=5,this.isLoading=!0,this.totalPagesVIP=0,this.currentPageVip=1,this.itemsPerPageVIP=5,this.vipData=[],this.paginatedVipData=[],this.pageNumbersVIP=[],this.selectedRowIndex=null,this.data={rows:[]},this.detailHeaders=[[],[],[],[]],this.detailTitles=["Liste des r\xe9sidents VIP","Liste des r\xe9sidents Offres","Liste des anniversaires","Liste des r\xe9sidents revenant"],this.currentDate=new Date,this.isDataLoaded=!1,this.pageNumbers=[],this.serverUrl="",this.port="",this.totalPages=0,this.currentPage=1,this.paginatedData=[],this.totalPagesOffre=0,this.currentPageOffre=1,this.itemsPerPageOffre=5,this.offersData=[],this.paginatedOffersData=[],this.pageNumbersOffre=[],this.totalPagesAnnif=0,this.currentPageAnnif=1,this.itemsPerPageAnnif=5,this.anniversariesData=[],this.paginatedAnniversariesData=[],this.pageNumbersAnnif=[],this.totalPagesRevenet=0,this.currentPageRevenent=1,this.itemsPerPageRevent=5,this.revenantData=[],this.paginatedRevenantData=[],this.pageNumbersRevenent=[],setInterval(()=>{this.fetchData()},1e4)}loadConfig(){var e=this;return(0,m.Z)(function*(){e.serverUrl=localStorage.getItem("urlpub")||"http://default-url",e.port=localStorage.getItem("hotelport")||"default-port"})()}ngOnInit(){var e=this;return(0,m.Z)(function*(){yield e.loadConfig(),e.fetchData()})()}updatePageNumbers(){this.pageNumbers=Array.from({length:this.totalPages},(e,i)=>i+1)}calculateTimeDifference(e){const i=new Date,n=i.getHours(),r=i.getMinutes(),s=i.getSeconds(),c=e.split(":");if(2!==c.length)return"Format de l'heure invalide";let l=60*(n-parseInt(c[0],10))+(r-parseInt(c[1],10)),P=s;if((l<0||0===l&&P<0)&&(l=Math.abs(l),P=Math.abs(P)),0===l)return`${P} s${1!==P?"s":""}`;if(l<60)return`${l} m${1!==l?"s":""}`;const p=Math.floor(l/60),f=l%60;let u="";return p>=2?(u+=`${p} h${1!==p?"s":""}`,f>0&&(u+=` et ${f} m${1!==f?"s":""}`)):(p>0&&(u+=`${p} h${1!==p?"s":""}`),f>0&&(u.length>0&&(u+=" et "),u+=`${f} m${1!==f?"s":""}`)),u}updatePaginationMouvement(){this.totalPages=Math.ceil(this.data1.length/this.itemsPerPage);const e=(this.currentPage-1)*this.itemsPerPage;this.paginatedData=this.data1.slice(e,e+this.itemsPerPage);const r=3*Math.floor((this.currentPage-1)/3)+1,s=Math.min(r+3-1,this.totalPages);this.pageNumbers=[];for(let c=r;c<=s;c++)this.pageNumbers.push(c)}prevPageMouvement(){this.currentPage>1&&(this.currentPage--,this.updatePaginationMouvement())}nextPageMouvement(){this.currentPage<this.totalPages&&(this.currentPage++,this.updatePaginationMouvement())}goToPageMouvement(e){e>0&&e<=this.totalPages&&(this.currentPage=e,this.updatePaginationMouvement())}updatePaginationVIP(){this.totalPagesVIP=Math.ceil(this.vipData.length/this.itemsPerPageVIP);const e=(this.currentPageVip-1)*this.itemsPerPageVIP;this.paginatedVipData=this.vipData.slice(e,e+this.itemsPerPageVIP);const n=Math.max(1,this.currentPageVip-1),r=Math.min(this.totalPagesVIP,this.currentPageVip+1);this.pageNumbersVIP=[n].concat(this.currentPageVip!==n&&this.currentPageVip!==r?[this.currentPageVip]:[],r).filter(s=>s>0&&s<=this.totalPagesVIP)}prevPageVIP(){this.currentPageVip>1&&(this.currentPageVip--,this.updatePaginationVIP())}nextPageVIP(){this.currentPageVip<this.totalPagesVIP&&(this.currentPageVip++,this.updatePaginationVIP())}goToPageVIP(e){e>0&&e<=this.totalPagesVIP&&(this.currentPageVip=e,this.updatePaginationVIP())}updatePaginationOffre(){this.totalPagesOffre=Math.ceil(this.offersData.length/this.itemsPerPageOffre);const e=(this.currentPageOffre-1)*this.itemsPerPageOffre;this.paginatedOffersData=this.offersData.slice(e,e+this.itemsPerPageOffre);const r=3*Math.floor((this.currentPageOffre-1)/3)+1,s=Math.min(r+3-1,this.totalPagesOffre);this.pageNumbersOffre=[];for(let c=r;c<=s;c++)this.pageNumbersOffre.push(c)}prevPageOffre(){this.currentPageOffre>1&&(this.currentPageOffre--,this.updatePaginationOffre())}nextPageOffre(){this.currentPageOffre<this.totalPagesOffre&&(this.currentPageOffre++,this.updatePaginationOffre())}goToPageOffre(e){e>0&&e<=this.totalPagesOffre&&(this.currentPageOffre=e,this.updatePaginationOffre())}updatePaginationAnnif(){this.totalPagesAnnif=Math.ceil(this.anniversariesData.length/this.itemsPerPageAnnif);const e=(this.currentPageAnnif-1)*this.itemsPerPageAnnif;this.paginatedAnniversariesData=this.anniversariesData.slice(e,e+this.itemsPerPageAnnif);const r=3*Math.floor((this.currentPageAnnif-1)/3)+1,s=Math.min(r+3-1,this.totalPagesAnnif);this.pageNumbersAnnif=[];for(let c=r;c<=s;c++)this.pageNumbersAnnif.push(c)}prevPageAnnif(){this.currentPageAnnif>1&&(this.currentPageAnnif--,this.updatePaginationAnnif())}nextPageAnnif(){this.currentPageAnnif<this.totalPagesAnnif&&(this.currentPageAnnif++,this.updatePaginationAnnif())}goToPageAnnif(e){e>0&&e<=this.totalPagesAnnif&&(this.currentPageAnnif=e,this.updatePaginationAnnif())}updatePaginationRevenent(){this.totalPagesRevenet=Math.ceil(this.revenantData.length/this.itemsPerPageRevent);const e=(this.currentPageRevenent-1)*this.itemsPerPageRevent;this.paginatedRevenantData=this.revenantData.slice(e,e+this.itemsPerPageRevent);const r=3*Math.floor((this.currentPageRevenent-1)/3)+1,s=Math.min(r+3-1,this.totalPagesRevenet);this.pageNumbersRevenent=[];for(let c=r;c<=s;c++)this.pageNumbersRevenent.push(c)}prevPageRevenent(){this.currentPageRevenent>1&&(this.currentPageRevenent--,this.updatePaginationRevenent())}nextPageRevenent(){this.currentPageRevenent<this.totalPagesRevenet&&(this.currentPageRevenent++,this.updatePaginationRevenent())}goToPageRevenent(e){e>0&&e<=this.totalPagesRevenet&&(this.currentPageRevenent=e,this.updatePaginationRevenent())}convertTime(e){const i=Math.floor(e/3600),n=e%3600,r=Math.floor(n/60),s=n%60,c=[];return i>0&&c.push(`${i} hour${i>1?"s":""}`),r>0&&c.push(`${r} minute${r>1?"s":""}`),s>0&&c.push(`${s} second${s>1?"s":""}`),c.join(" and ")||"0 seconds"}fetchData(){this.http.get(`${this.serverUrl}:${this.port}/hotel/getcountvip`).subscribe(i=>{const n=Object.keys(i).map(r=>({title:r,number:i[r]}));this.data.rows=n,this.isDataLoaded=!0,this.fetchDetailData(),this.fetchClients()})}getStatusColor(e){switch(e.trim()){case"Check In":return"green";case"Reservation":return"blue";case"Check Out":return"red";default:return"gray"}}getTextColor(e){return"Check In"===e.trim()||"Reservation"===e.trim()||"Check Out"===e.trim()?"white":"black"}fetchClients(){this.http.get(`${this.serverUrl}:${this.port}/hotel/getMovementCl`).subscribe(i=>{this.data1=i.map(n=>({...n,timeDiff:this.calculateTimeDifference(n.heure)})),this.updatePaginationMouvement()})}fetchDetailData(){[`${this.serverUrl}:${this.port}/hotel/getVIP`,`${this.serverUrl}:${this.port}/hotel/getlisteoffre`,`${this.serverUrl}:${this.port}/hotel/getlisteanni`,`${this.serverUrl}:${this.port}/hotel/getlistrevent`].forEach((i,n)=>{this.fetchDataFromUrl(i,n)})}fetchDataFromUrl(e,i){this.http.get(e).subscribe(n=>{Array.isArray(n)&&n.length>0&&(0===i?(this.vipData=n,this.updatePaginationVIP()):1===i?(this.offersData=n,this.updatePaginationOffre()):2===i?(this.anniversariesData=n,this.updatePaginationAnnif()):3===i&&(this.revenantData=n,this.updatePaginationRevenent()))})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.eN),t.Y36(t.R0b),t.Y36(O.K))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-listes"]],decls:17,vars:10,consts:[[1,"ion-no-border"],[2,"flex-grow","1","text-align","center","font-size","18px","font-weight","bold"],["slot","end",2,"display","flex","align-items","center"],[2,"margin-right","10px","font-size","14px","color","black","font-family","'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif"],["slot","end"],[1,"refresh-button",2,"padding","8px",3,"click"],["loading","lazy","src","../../../assets/icon/arrows-rotate-solid.svg","alt","refresh"],[1,"bg-light"],["class","data-card my-4 shadow-lg",4,"ngIf"],["class","table-card my-4 shadow-lg","style","overflow-x: auto;",4,"ngIf"],["class","table-card my-4 shadow-lg",4,"ngIf"],["class","revenant-card my-4 shadow-lg",4,"ngIf"],[1,"data-card","my-4","shadow-lg"],[1,"bg-primary","text-white","text-center"],[1,"table-responsive"],[1,"table","table-striped"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"table-card","my-4","shadow-lg",2,"overflow-x","auto"],[1,"bg-white","text-dark","text-center"],[1,"table","table-bordered"],[1,"pagination-container"],["fill","clear",1,"pagination-button",3,"disabled","click"],["name","chevron-back-outline"],[1,"page-number-container"],["fill","clear","class","pagination-button",3,"ngClass","click",4,"ngFor","ngForOf"],["name","chevron-forward-outline"],["fill","clear",1,"pagination-button",3,"ngClass","click"],[1,"table-card","my-4","shadow-lg"],[1,"revenant-card","my-4","shadow-lg"],[1,"table","table-striped","table-hover"],[2,"font-size","8px"],[1,"status-badge",3,"ngStyle"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar"),t._UZ(2,"ion-title",1),t.TgZ(3,"ion-buttons",2)(4,"p",3),t._uU(5),t.ALo(6,"date"),t.qZA()(),t.TgZ(7,"ion-buttons",4)(8,"ion-button",5),t.NdJ("click",function(){return i.RefreshProcedure()}),t._UZ(9,"img",6),t.qZA()()()(),t.TgZ(10,"ion-content",7),t.YNc(11,A,15,1,"ion-card",8),t.YNc(12,q,30,7,"ion-card",9),t.YNc(13,w,30,7,"ion-card",9),t.YNc(14,D,30,7,"ion-card",10),t.YNc(15,V,32,7,"ion-card",11),t.YNc(16,Q,33,6,"ion-card",8),t.qZA()),2&e&&(t.xp6(5),t.hij(" ",t.xi3(6,7,i.currentDate,"dd/MM/yyyy")," "),t.xp6(6),t.Q6J("ngIf",i.isDataLoaded&&i.data.rows.length>0),t.xp6(1),t.Q6J("ngIf",i.isDataLoaded&&i.paginatedVipData.length>0),t.xp6(1),t.Q6J("ngIf",i.isDataLoaded&&i.offersData.length>0),t.xp6(1),t.Q6J("ngIf",i.isDataLoaded&&i.anniversariesData.length>0),t.xp6(1),t.Q6J("ngIf",i.isDataLoaded&&i.revenantData.length>0),t.xp6(1),t.Q6J("ngIf",i.paginatedData.length>0))},dependencies:[_.mk,_.sg,_.O5,_.PC,g.YG,g.Sm,g.PM,g.Zi,g.Dq,g.wI,g.W2,g.Gu,g.gu,g.wd,g.sr,_.uU],styles:["ion-card[_ngcontent-%COMP%]{margin:15px;border-radius:10px;overflow:hidden}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;font-size:16px;text-align:left;border:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}@media (max-width: 1024px){table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:15px}}@media (max-width: 768px){.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}.table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:4px;font-size:12px}}@media (max-width: 576px){table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px;padding:6px}}.refresh-button[_ngcontent-%COMP%]{background:none;border:none}.refresh-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}.table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:4px;font-size:12px}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:1rem}.check-in[_ngcontent-%COMP%]{background-color:green;color:#fff}.reservation[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.check-out[_ngcontent-%COMP%]{background-color:red;color:#fff}ion-button.selected[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.data-card[_ngcontent-%COMP%]{margin:15px;border-radius:8px;box-shadow:0 4px 12px #0000001a}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f8f8;font-weight:600}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.status-badge[_ngcontent-%COMP%]{padding:5px 10px;border-radius:12px;font-size:14px;font-weight:700}.data-card[_ngcontent-%COMP%]{margin:16px;box-shadow:0 4px 12px #00000026;border-radius:12px}.data-table[_ngcontent-%COMP%]{width:100%;text-align:center;border-collapse:collapse;border-radius:12px}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f3f3f3;font-weight:600;padding:14px}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #ddd}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9;transition:background-color .3s}.status-badge[_ngcontent-%COMP%]{padding:6px 10px;border-radius:8px;font-weight:700;font-size:14px;text-transform:uppercase}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px}.pagination-button[_ngcontent-%COMP%]{margin:0 5px}.page-number-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.active-page[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-radius:50%}.active-page[_ngcontent-%COMP%]{font-weight:700;color:#fff;background-color:#007bff;border-radius:8px;padding:6px 10px}.page-number-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:5px}.pagination-button.active-page[_ngcontent-%COMP%]{--background: #0056b3;--color: white}.pagination-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}ion-button[_ngcontent-%COMP%]{margin:0 5px;border-radius:50%;min-width:35px;padding:0;height:35px;display:flex;justify-content:center;align-items:center}ion-button[disabled][_ngcontent-%COMP%]{background-color:#ddd;color:#bbb}.status-badge[_ngcontent-%COMP%]{padding:8px 12px;border-radius:20px;font-weight:700;text-align:center;display:inline-block;box-shadow:0 2px 8px #0000001a;font-size:14px;text-transform:capitalize}ion-toolbar[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 5px #0000001a}@media (max-width: 767px){.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;padding:10px}.status-badge[_ngcontent-%COMP%]{font-size:12px}.pagination-toolbar[_ngcontent-%COMP%]{padding:8px}.pagination-button[_ngcontent-%COMP%]{font-size:12px;--padding-start: 10px;--padding-end: 10px}}"]}),a})()}];let G=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[b.Bz.forChild(F),b.Bz]}),a})(),K=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[_.ez,Z.u5,g.Pc,G]}),a})()}}]);